<script>
    const socket = io.connect({
        transports: ['websocket'],
        secure: true
    });

    // Identification

    socket.on('id', msg => hasID() ? socket.emit('id', getID()) : socket.emit('no id'));

    socket.on('new id', msg => setID(msg));

    socket.on('id ok', console.log('session ID is ok'));

    function getID() {
        return localStorage.getItem('id');
    }

    function hasID() {
        return localStorage.getItem('id') !== null;
    }

    function setID(id) {
        localStorage.setItem('id', id);
    }

    // Tests

    function testConnection() {
        socket.emit('test');
    }

    socket.on('test', () => alert('test succeded'));

    // Settings


    
    // Game

</script>